<PageManager>:
    StartScreen:
    MainScreen:

<StartScreen>:
    name: 'start'

    MDScreen:
        md_bg_color: app.theme_cls.surfaceColor

        MDCircularProgressIndicator:
            active: False
            id: progressindicator
            size_hint: None, None
            size: dp(48), dp(48)
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
            
        BoxLayout:
            orientation: 'vertical'

            MDTopAppBar:
                type: "small"
                pos_hint: {"top": 1}

                MDTopAppBarTitle:
                    text: "High-end Control Moduleと接続"

                MDTopAppBarTrailingButtonContainer:
                    MDActionTopAppBarButton:
                        icon: "theme-light-dark"
                        on_release: app.switch_theme_style()

            MDNavigationLayout:
                MDScreenManager:
                    MDScreen:
                        MDBoxLayout:
                            orientation: "horizontal"
                            adaptive_height: True
                            pos_hint: {'center_x': .5, 'center_y': .5}
                            size_hint_x: .3
                            spacing: '10dp'
            
                            MDTextField:
                                mode: "outlined"
                                id: address_field
                                MDTextFieldHintText:
                                    text: "アドレス"

                            MDButton:
                                style: "filled"
                                id: connect_button
                                on_release: root.on_connect_button_press()
                                pos_hint: {"center_y": .5}
                                MDButtonText:
                                    id: connect_button_text
                                    text: "接続"


<MainScreen>:
    name: 'main'

    MDScreen:
        md_bg_color: app.theme_cls.surfaceColor

        BoxLayout:
            orientation: 'vertical'

            MDTopAppBar:
                type: "small"
                pos_hint: {"top": 1}

                MDTopAppBarLeadingButtonContainer:

                    MDActionTopAppBarButton:
                        icon: "menu"
                        on_release: nav_drawer.set_state("toggle")

                MDTopAppBarTitle:
                    text: "Native GUI App"

                MDTopAppBarTrailingButtonContainer:

                    MDActionTopAppBarButton:
                        icon: "theme-light-dark"
                        on_release: app.switch_theme_style()

                    MDButton:
                        style: "elevated"
                        id: disconnect_button
                        on_release: root.on_disconnect_button_press()
                        pos_hint: {"center_y": .5}
                        MDButtonText:
                            text: "切断"

            MDNavigationLayout:

                MDNavigationDrawer:
                    drawer_type: "standard"
                    id: nav_drawer
                    radius: 0, dp(16), dp(16), 0

                    MDNavigationDrawerMenu:
                        id: nav_drawer_menu

                        MDNavigationDrawerLabel:
                            text: "Actuator List"

                MDScreenManager:
                    MDScreen:
                        radius: [25, 0, 0, 0]
                        BoxLayout:
                            orientation: "vertical"
                            padding: "20dp"
                            spacing: "20dp"
                            
                            BoxLayout:
                                orientation: "horizontal"
                                spacing: "20dp"
                                NonInteractiveCard:
                                    id : graph_area
                                    style: "outlined"
                                    padding: "20dp"
                                    size_hint_x: 2
                                    
                                NonInteractiveCard:
                                    style: "outlined"
                                    padding: "20dp"
                            
                            BoxLayout:
                                orientation: "horizontal"
                                spacing: "20dp"
                                size_hint_y: 0.7
                                NonInteractiveCard:
                                    style: "outlined"
                                    padding: "20dp"
                                    size_hint_x: .3
                                NonInteractiveCard:
                                    style: "outlined"
                                    padding: "20dp"
                                    MDSlider:
                                        min: 0
                                        max: 4095
                                        step: 1
                                        value: 0
                                        on_value: app.slider_value = str(int(self.value))
                                        MDSliderHandle:
